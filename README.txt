Packets spec:

16bits
////////////////////////////////////////////////////////////////////////////////////////////
Dispatch Task to PE:
//15-14//
OPCODE:00
//13-10//
4 bits each bit represents if its neighbor node in this replay iteration. see 1:
//9-7//
weights for 1-3 replay iteration   
//6-0//
Target Node ID

Description: 
1: if Node's neighbor are not in this replay iteration, just write the packet back to IMEM;
2: if there is available space in Edge PE, just issue to PE rather than dispatch to RS first;
3: //12-9// info should be also stored in PE, need regenerate packet for next replay iteration.

/////////////////////////////////////////////////////////////////////////////////////////
REPLAY Iter Fence:
//15-13//
OPCODE:01
//1-0//
which replay iteration

Description: 
can assume must insert in end of each replay iter.
Fence will stall fetch packet from IMEM.
REPLAY Iter Fence in first replay iteration will be generated by software, other will be generated by Edge PE.
1. need to wait, until all Edge PE are Idle, RS is empty.
2. After fence, need to store which replay iteration( bits 1-0) to Cur_Replay_Iter register (global). (global buffer means need output)
also need to reset the command FIFO.
3.then, start to fetch packets from addr 0
////////////////////////////////////////////////////////////////////////////////////////////
Write FV and Total Node number
//15-13//
OPCODE:010
//$clog2(128)-1:$clog2(16)//
write Total Node number
//$clog2(16)-1:0//
FV num
Description: 
write num of FV to Num_FV global buffer.

////////////////////////////////////////////////////////////////////////////////////////////
Write Weights boundary size
//15-13//
OPCODE:011
//undefine-0//

Description: 
write Weights boundary to Weights_boundary global buffer.
////////////////////////////////////////////////////////////////////////////////////////////
Write Nodes number



need to write last node id;
CNTL has complete state, when current_REPLAY_ITER=3 and all module done;